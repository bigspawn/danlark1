# Идеи проектов для 2-4 курса

Я готов взять максимально 3 человека для менторства проектов в ВШЭ.

## Protobuf Guided Field Stripping and Profiling

[Protobuf](https://developers.google.com/protocol-buffers) -- широко
используемая библиотека для сериализации и десериализации структур данных.
Формат данных статический, его легко обновлять, и он обратно совместим.

Тем не менее, с ростом использования protobuf, многие программы используют
лишь только часть сообщений, но платят за десериализацию тем, что используют
все поля. Нативно protobuf не умеет профилировать то, какие поля используются
в программе (как и статически, так и динамически). Хотелось бы сделать две вещи:

- Если поле вообще не используется в программе статически, то об этом узнать и
добавить функциональность по убиранию этого поля при компиляции protobuf
- Профилировать в режиме real-time и в любой момент уметь сделать отчёт по тому,
какие поля были использованы. А при загрузке этого отчёта не десериализовать эти
поля

Это может пригодиться, например, для проектов, где можно программу перезапустить
в более safe моде, если поле было сериализовано или обращено, но в профайле его
не было. Такие системы, например, MapReduce, любой data processing, там если
какой-то worker умер, его спокойно можно перезапустить. Уверен, что
некоторые компании хотели бы использовать такую функциональность, сэкономив
миллионы долларов.

- Лучше всего для 3-4 курсов. Это полноценная курсовая работа или диплом.
- Нужно хорошее знание алгоритмов, желание изучать компиляторы, линкеры
- C++

## Умные оптимизации нулевых указателей в LLVM IR

Компилятор [clang](http://clang.llvm.org/) и инфраструктура
[LLVM](http://llvm.org/) до сих пор не умеет оптимизировать такой код до
константного выражения:

```cpp
int f(const int* x) {
  const int a = x[1];
  if (x) {
    return 10;
  }
  return a;
}
```

Так произошло по историческим причинам, но с развитием санитайзера
[`fsanitize=null`](https://clang.llvm.org/docs/UndefinedBehaviorSanitizer.html#usage)
теперь у пользователей экосистемы есть отдельный санитайзер, который помогает
ловить такие ошибки в программе.

Также по правилам языка C++ -- указатель `this` в классах тоже обязан не быть
нулевым указателем. Это может работать, если у класса есть функции, которые
не трогают данные, но в целом это является пропущенной оптимизацией и тоже
бы хотелось помечать такие указатели как nonnull.

Этот проект принесёт огромную пользу миллионам программ по всему миру. В первую
очередь, он поможет для уменьшения финального бинарного файла и возможно
немного ускорения.

Примечания:

- Лучше всего для 2-3 курса, для дипломной работы обсуждаемо, но скорее всего
тему расширим
- Хорошие знания алгоритмов приветствуются
- Нужно знать, а наверное и любить C++

## PowerPC64LE SimdJSON

Библиотека [SimdJSON](https://github.com/simdjson/simdjson) это одно из самых
последних новаторств в использовании SIMD инструкций, библиотека открыла миру
парсинг JSON со скоростью минимум 1GB/s. К сожалению, не все платформы
поддерживаются нативно и для процессоров Power
[PPC64](https://en.wikipedia.org/wiki/Ppc64) применяется fallback технология. С
ростом ML и популярности этих процессоров, хотелось бы добавить реализацию SIMD
для процессоров Power.

Примечания:

- Лучше всего для 2-3 курса, для дипломной работы расширим работу, например,
SimdJSON страдает посредственным перформансом на системе Windows или, например,
возьмём какие-нибудь ещё библиотеки для Generic SIMD оптимизаций.
- Будет интересно тем, кто хочет узнать другой assembly язык помимо x86_64 и ARM
- Мы арендуем сервер на то, чтобы поиграться, а для CI будем использовать qemu
- Нужно знать C++

## Любой ваш проект, если у вас нет ментора

Я готов променторить любой backend или low level проект, который вы хотите
сделать сами на языках ASM/C/C++/Go/Rust, в которых я могу быть как-то полезен,
например, даже поревьюить код, покидать статьи по теме. Это может быть что
угодно из движков, распределённых систем, низкоуровневых вещей, идеи,
которые могут быть предложены, но которые у меня как-то не воплотились в
полноценное предложение:

- Замеры Apple Silicon против последнего Intel в MacBook, автоматизированные
миграции проектов
- Real-time news aggregator. Доставка, кластеризация новостей в real-time с
шардингом, репликами, возможно консенсусом и тд. Можно работать над таким в
команде
- Коллаборативный текстовый редактор
- [autocxx](https://github.com/google/autocxx) -- C++ upscale to Rust
- Clang диагностирование пропущенных стандартных include
- Имплементация ring-based [absl::Cord](https://github.com/abseil/abseil-cpp/blob/master/absl/strings/cord.h) -- это rope в стандартной библиотеке Google
- Создание test suite для тестирования аллокаторов -- их стало настолько много,
что унифицировать проверку перформанса реальных программ будет многого стоить
